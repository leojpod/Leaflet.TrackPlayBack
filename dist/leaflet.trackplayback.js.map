{"mappings":"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","sources":["src/index.js","src/control.trackplayback/index.js","src/control.trackplayback/control.playback.js","src/leaflet.trackplayback/index.js","src/leaflet.trackplayback/trackplayback.js","src/leaflet.trackplayback/track.js","src/leaflet.trackplayback/util.js","src/leaflet.trackplayback/trackcontroller.js","src/leaflet.trackplayback/clock.js","src/leaflet.trackplayback/draw.js","src/leaflet.trackplayback/tracklayer.js"],"sourcesContent":["import './control.trackplayback/index'\nimport './leaflet.trackplayback/index'\n","import L from 'leaflet'\nimport {\n  TrackPlayBackControl,\n  trackplaybackcontrol\n} from './control.playback'\n\nL.TrackPlayBackControl = TrackPlayBackControl\nL.trackplaybackcontrol = trackplaybackcontrol\n","import L from 'leaflet'\n\nexport const TrackPlayBackControl = L.Control.extend({\n\n  options: {\n    position: 'topright',\n    showOptions: true,\n    showInfo: true,\n    showSlider: true,\n    autoPlay: false\n  },\n\n  initialize: function (trackplayback, options) {\n    L.Control.prototype.initialize.call(this, options)\n    this.trackPlayBack = trackplayback\n    this.trackPlayBack.on('tick', this._tickCallback, this)\n  },\n\n  onAdd: function (map) {\n    this._initContainer()\n    return this._container\n  },\n\n  onRemove: function (map) {\n    this.trackPlayBack.dispose()\n    this.trackPlayBack.off('tick', this._tickCallback, this)\n  },\n\n  /**\n   * 根据unix时间戳(单位:秒)获取时间字符串\n   * @param  {[int]} time     [时间戳（精确到秒）]\n   * @param  {[string]} accuracy [精度，日：d, 小时：h,分钟：m,秒：s]\n   * @return {[string]}          [yy:mm:dd hh:mm:ss]\n   */\n  getTimeStrFromUnix: function (time, accuracy = 's') {\n    time = parseInt(time * 1000)\n    let newDate = new Date(time)\n    let year = newDate.getFullYear()\n    let month = (newDate.getMonth() + 1) < 10 ? '0' + (newDate.getMonth() + 1) : newDate.getMonth() + 1\n    let day = newDate.getDate() < 10 ? '0' + newDate.getDate() : newDate.getDate()\n    let hours = newDate.getHours() < 10 ? '0' + newDate.getHours() : newDate.getHours()\n    let minuts = newDate.getMinutes() < 10 ? '0' + newDate.getMinutes() : newDate.getMinutes()\n    let seconds = newDate.getSeconds() < 10 ? '0' + newDate.getSeconds() : newDate.getSeconds()\n    let ret\n    if (accuracy === 'd') {\n      ret = year + '-' + month + '-' + day\n    } else if (accuracy === 'h') {\n      ret = year + '-' + month + '-' + day + ' ' + hours\n    } else if (accuracy === 'm') {\n      ret = year + '-' + month + '-' + day + ' ' + hours + ':' + minuts\n    } else {\n      ret = year + '-' + month + '-' + day + ' ' + hours + ':' + minuts + ':' + seconds\n    }\n    return ret\n  },\n\n  _initContainer: function () {\n    var className = 'leaflet-control-playback'\n    this._container = L.DomUtil.create('div', className)\n    L.DomEvent.disableClickPropagation(this._container)\n\n    this._optionsContainer = this._createContainer('optionsContainer', this._container)\n    this._buttonContainer = this._createContainer('buttonContainer', this._container)\n    this._infoContainer = this._createContainer('infoContainer', this._container)\n    this._sliderContainer = this._createContainer('sliderContainer', this._container)\n\n    this._pointCbx = this._createCheckbox('show trackPoint', 'show-trackpoint', this._optionsContainer, this._showTrackPoint)\n    this._lineCbx = this._createCheckbox('show trackLine', 'show-trackLine', this._optionsContainer, this._showTrackLine)\n\n    this._playBtn = this._createButton('play', 'btn-stop', this._buttonContainer, this._play)\n    this._restartBtn = this._createButton('replay', 'btn-restart', this._buttonContainer, this._restart)\n    this._slowSpeedBtn = this._createButton('slow', 'btn-slow', this._buttonContainer, this._slow)\n    this._quickSpeedBtn = this._createButton('quick', 'btn-quick', this._buttonContainer, this._quick)\n    this._closeBtn = this._createButton('close', 'btn-close', this._buttonContainer, this._close)\n\n    this._infoStartTime = this._createInfo('startTime: ', this.getTimeStrFromUnix(this.trackPlayBack.getStartTime()), 'info-start-time', this._infoContainer)\n    this._infoEndTime = this._createInfo('endTime: ', this.getTimeStrFromUnix(this.trackPlayBack.getEndTime()), 'info-end-time', this._infoContainer)\n    this._infoCurTime = this._createInfo('curTime: ', this.getTimeStrFromUnix(this.trackPlayBack.getCurTime()), 'info-cur-time', this._infoContainer)\n    this._infoSpeedRatio = this._createInfo('speed: ', `X${this.trackPlayBack.getSpeed()}`, 'info-speed-ratio', this._infoContainer)\n\n    this._slider = this._createSlider('time-slider', this._sliderContainer, this._scrollchange)\n\n    return this._container\n  },\n\n  _createContainer: function (className, container) {\n    return L.DomUtil.create('div', className, container)\n  },\n\n  _createCheckbox: function (labelName, className, container, fn) {\n    let divEle = L.DomUtil.create('div', className + ' trackplayback-checkbox', container)\n\n    let inputEle = L.DomUtil.create('input', 'trackplayback-input', divEle)\n    let inputId = `trackplayback-input-${L.Util.stamp(inputEle)}`\n    inputEle.setAttribute('type', 'checkbox')\n    inputEle.setAttribute('id', inputId)\n\n    let labelEle = L.DomUtil.create('label', 'trackplayback-label', divEle)\n    labelEle.setAttribute('for', inputId)\n    labelEle.innerHTML = labelName\n\n    L.DomEvent.on(inputEle, 'change', fn, this)\n\n    return divEle\n  },\n\n  _createButton: function (title, className, container, fn) {\n    let link = L.DomUtil.create('a', className, container)\n    link.href = '#'\n    link.title = title\n\n    /*\n     * Will force screen readers like VoiceOver to read this as \"Zoom in - button\"\n     */\n    link.setAttribute('role', 'button')\n    link.setAttribute('aria-label', title)\n\n    L.DomEvent.disableClickPropagation(link)\n    L.DomEvent.on(link, 'click', fn, this)\n\n    return link\n  },\n\n  _createInfo: function (title, info, className, container) {\n    let infoContainer = L.DomUtil.create('div', 'info-container', container)\n    let infoTitle = L.DomUtil.create('span', 'info-title', infoContainer)\n    infoTitle.innerHTML = title\n    let infoEle = L.DomUtil.create('span', className, infoContainer)\n    infoEle.innerHTML = info\n    return infoEle\n  },\n\n  _createSlider: function (className, container, fn) {\n    let sliderEle = L.DomUtil.create('input', className, container)\n    sliderEle.setAttribute('type', 'range')\n    sliderEle.setAttribute('min', this.trackPlayBack.getStartTime())\n    sliderEle.setAttribute('max', this.trackPlayBack.getEndTime())\n    sliderEle.setAttribute('value', this.trackPlayBack.getCurTime())\n\n    L.DomEvent.on(sliderEle, 'click mousedown dbclick', L.DomEvent.stopPropagation)\n      .on(sliderEle, 'click', L.DomEvent.preventDefault)\n      .on(sliderEle, 'change', fn, this)\n      .on(sliderEle, 'mousemove', fn, this)\n\n    return sliderEle\n  },\n\n  _showTrackPoint (e) {\n    if (e.target.checked) {\n      this.trackPlayBack.showTrackPoint()\n    } else {\n      this.trackPlayBack.hideTrackPoint()\n    }\n  },\n\n  _showTrackLine (e) {\n    if (e.target.checked) {\n      this.trackPlayBack.showTrackLine()\n    } else {\n      this.trackPlayBack.hideTrackLine()\n    }\n  },\n\n  _play: function () {\n    let hasClass = L.DomUtil.hasClass(this._playBtn, 'btn-stop')\n    if (hasClass) {\n      L.DomUtil.removeClass(this._playBtn, 'btn-stop')\n      L.DomUtil.addClass(this._playBtn, 'btn-start')\n      this._playBtn.setAttribute('title', 'stop')\n      this.trackPlayBack.start()\n    } else {\n      L.DomUtil.removeClass(this._playBtn, 'btn-start')\n      L.DomUtil.addClass(this._playBtn, 'btn-stop')\n      this._playBtn.setAttribute('title', 'play')\n      this.trackPlayBack.stop()\n    }\n  },\n\n  _restart: function () {\n    // 播放开始改变播放按钮样式\n    L.DomUtil.removeClass(this._playBtn, 'btn-stop')\n    L.DomUtil.addClass(this._playBtn, 'btn-start')\n    this._playBtn.setAttribute('title', 'stop')\n    this.trackPlayBack.rePlaying()\n  },\n\n  _slow: function () {\n    this.trackPlayBack.slowSpeed()\n    let sp = this.trackPlayBack.getSpeed()\n    this._infoSpeedRatio.innerHTML = `X${sp}`\n  },\n\n  _quick: function () {\n    this.trackPlayBack.quickSpeed()\n    let sp = this.trackPlayBack.getSpeed()\n    this._infoSpeedRatio.innerHTML = `X${sp}`\n  },\n\n  _close: function () {\n    L.DomUtil.remove(this._container)\n    if (this.onRemove) {\n      this.onRemove(this._map)\n    }\n    return this\n  },\n\n  _scrollchange: function (e) {\n    let val = Number(e.target.value)\n    this.trackPlayBack.setCursor(val)\n  },\n\n  _tickCallback: function (e) {\n    // 更新时间\n    let time = this.getTimeStrFromUnix(e.time)\n    this._infoCurTime.innerHTML = time\n    // 更新时间轴\n    this._slider.value = e.time\n    // 播放结束后改变播放按钮样式\n    if (e.time >= this.trackPlayBack.getEndTime()) {\n      L.DomUtil.removeClass(this._playBtn, 'btn-start')\n      L.DomUtil.addClass(this._playBtn, 'btn-stop')\n      this._playBtn.setAttribute('title', 'play')\n      this.trackPlayBack.stop()\n    }\n  }\n})\n\nexport const trackplaybackcontrol = function (trackplayback, options) {\n  return new TrackPlayBackControl(trackplayback, options)\n}\n","import L from 'leaflet'\n\nimport {\n  TrackPlayBack,\n  trackplayback\n} from './trackplayback'\n\nL.TrackPlayBack = TrackPlayBack\nL.trackplayback = trackplayback\n","import L from \"leaflet\";\n\nimport { Track } from \"./track\";\nimport { TrackController } from \"./trackcontroller\";\nimport { Clock } from \"./clock\";\nimport { Draw } from \"./draw\";\nimport * as Util from \"./util\";\n\n/**\n * single track data\n * [{lat: 30, lng: 116, time: 1502529980, heading: 300, info:[]},{},....]\n *\n * mutiple track data\n * [single track data, single track data, single track data]\n */\nexport const TrackPlayBack = L.Class.extend({\n  includes: L.Evented.prototype,\n\n  initialize: function (data, map, options = {}) {\n    let drawOptions = {\n      trackPointOptions: options.trackPointOptions,\n      trackLineOptions: options.trackLineOptions,\n      targetOptions: options.targetOptions,\n      toolTipOptions: options.toolTipOptions,\n    };\n    this.tracks = this._initTracks(data);\n    this.draw = new Draw(map, drawOptions);\n    this.trackController = new TrackController(this.tracks, this.draw);\n    this.clock = new Clock(this.trackController, options.clockOptions);\n\n    this.clock.on(\"tick\", this._tick, this);\n    this.clock.on(\"ended\", this._ended, this);\n  },\n  start: function () {\n    this.clock.start();\n    return this;\n  },\n  stop: function () {\n    this.clock.stop();\n    return this;\n  },\n  rePlaying: function () {\n    this.clock.rePlaying();\n    return this;\n  },\n  slowSpeed: function () {\n    this.clock.slowSpeed();\n    return this;\n  },\n  quickSpeed: function () {\n    this.clock.quickSpeed();\n    return this;\n  },\n  getSpeed: function () {\n    return this.clock.getSpeed();\n  },\n  getCurTime: function () {\n    return this.clock.getCurTime();\n  },\n  getStartTime: function () {\n    return this.clock.getStartTime();\n  },\n  getEndTime: function () {\n    return this.clock.getEndTime();\n  },\n  isPlaying: function () {\n    return this.clock.isPlaying();\n  },\n  setCursor: function (time) {\n    this.clock.setCursor(time);\n    return this;\n  },\n  setSpeed: function (speed) {\n    this.clock.setSpeed(speed);\n    return this;\n  },\n  showTrackPoint: function () {\n    this.draw.showTrackPoint();\n    return this;\n  },\n  hideTrackPoint: function () {\n    this.draw.hideTrackPoint();\n    return this;\n  },\n  showTrackLine: function () {\n    this.draw.showTrackLine();\n    return this;\n  },\n  hideTrackLine: function () {\n    this.draw.hideTrackLine();\n    return this;\n  },\n  dispose: function () {\n    this.clock?.off(\"tick\", this._tick);\n    this.clock?.off(\"ended\", this._ended);\n    this.draw?.remove();\n    this.tracks = null;\n    this.draw = null;\n    this.trackController = null;\n    this.clock = null;\n  },\n  _tick: function (e) {\n    this.fire(\"tick\", e);\n  },\n  _ended: function (e) {\n    this.fire(\"ended\", e);\n  },\n  _initTracks: function (data) {\n    let tracks = [];\n    if (Util.isArray(data)) {\n      if (Util.isArray(data[0])) {\n        // 多条轨迹\n        for (let i = 0, len = data.length; i < len; i++) {\n          tracks.push(new Track(data[i]));\n        }\n      } else {\n        // 单条轨迹\n        tracks.push(new Track(data));\n      }\n    }\n    return tracks;\n  },\n});\n\nexport const trackplayback = function (data, map, options) {\n  return new TrackPlayBack(data, map, options);\n};\n","import L from 'leaflet'\n\nimport { isArray } from './util'\n\n/**\n * 轨迹类\n */\nexport const Track = L.Class.extend({\n  initialize: function (trackData = [], options) {\n    L.setOptions(this, options)\n\n    trackData.forEach((item) => {\n      // 添加 isOrigin 字段用来标识是否是原始采样点，与插值点区分开\n      item.isOrigin = true\n    })\n    this._trackPoints = trackData\n    this._timeTick = {}\n    this._update()\n  },\n\n  addTrackPoint: function (trackPoint) {\n    if (isArray(trackPoint)) {\n      for (let i = 0, len = trackPoint.length; i < len; i++) {\n        this.addTrackPoint(trackPoint[i])\n      }\n    }\n    this._addTrackPoint(trackPoint)\n  },\n\n  getTimes: function () {\n    let times = []\n    for (let i = 0, len = this._trackPoints.length; i < len; i++) {\n      times.push(this._trackPoints[i].time)\n    }\n    return times\n  },\n\n  getStartTrackPoint: function () {\n    return this._trackPoints[0]\n  },\n\n  getEndTrackPoint: function () {\n    return this._trackPoints[this._trackPoints.length - 1]\n  },\n\n  getTrackPointByTime: function (time) {\n    return this._trackPoints[this._timeTick[time]]\n  },\n\n  _getCalculateTrackPointByTime: function (time) {\n    // 先判断最后一个点是否为原始点\n    let endpoint = this.getTrackPointByTime(time)\n    let startPt = this.getStartTrackPoint()\n    let endPt = this.getEndTrackPoint()\n    let times = this.getTimes()\n    if (time < startPt.time || time > endPt.time) return\n    let left = 0\n    let right = times.length - 1\n    let n\n    // 处理只有一个点情况\n    if (left === right) {\n      return endpoint\n    }\n    // 通过【二分查找】法查出当前时间所在的时间区间\n    while (right - left !== 1) {\n      n = parseInt((left + right) / 2)\n      if (time > times[n]) left = n\n      else right = n\n    }\n\n    let t0 = times[left]\n    let t1 = times[right]\n    let t = time\n    let p0 = this.getTrackPointByTime(t0)\n    let p1 = this.getTrackPointByTime(t1)\n    startPt = L.point(p0.lng, p0.lat)\n    endPt = L.point(p1.lng, p1.lat)\n    let s = startPt.distanceTo(endPt)\n    // 不同时间在同一个点情形\n    if (s <= 0) {\n      endpoint = p1\n      return endpoint\n    }\n    // 假设目标在两点间做匀速直线运动\n    // 求解速度向量，并计算时间 t 目标所在位置\n    let v = s / (t1 - t0)\n    let sinx = (endPt.y - startPt.y) / s\n    let cosx = (endPt.x - startPt.x) / s\n    let step = v * (t - t0)\n    let x = startPt.x + step * cosx\n    let y = startPt.y + step * sinx\n    // 求目标的运动方向，0-360度\n    let dir =\n      endPt.x >= startPt.x\n        ? ((Math.PI * 0.5 - Math.asin(sinx)) * 180) / Math.PI\n        : ((Math.PI * 1.5 + Math.asin(sinx)) * 180) / Math.PI\n\n    console.log('WTF is going on...', { endpoint, endPt })\n\n    if (endpoint) {\n      if (endpoint.dir === undefined) {\n        endpoint.dir = dir\n      }\n    } else {\n      endpoint = {\n        lng: x,\n        lat: y,\n        dir: endPt.dir === undefined ? dir : endPt.dir,\n        isOrigin: false,\n        time: time\n      }\n    }\n    return endpoint\n  },\n\n  // 获取某个时间点之前走过的轨迹\n  getTrackPointsBeforeTime: function (time) {\n    let tpoints = []\n    for (let i = 0, len = this._trackPoints.length; i < len; i++) {\n      if (this._trackPoints[i].time < time) {\n        tpoints.push(this._trackPoints[i])\n      }\n    }\n    // 获取最后一个点，根据时间线性插值而来\n    let endPt = this._getCalculateTrackPointByTime(time)\n    if (endPt) {\n      tpoints.push(endPt)\n    }\n    return tpoints\n  },\n\n  _addTrackPoint: function (trackPoint) {\n    trackPoint.isOrigin = true\n    this._trackPoints.push(trackPoint)\n    this._update()\n  },\n\n  _update: function () {\n    this._sortTrackPointsByTime()\n    this._updatetimeTick()\n  },\n\n  // 轨迹点按时间排序 【冒泡排序】\n  _sortTrackPointsByTime: function () {\n    let len = this._trackPoints.length\n    for (let i = 0; i < len; i++) {\n      for (let j = 0; j < len - 1 - i; j++) {\n        if (this._trackPoints[j].time > this._trackPoints[j + 1].time) {\n          let tmp = this._trackPoints[j + 1]\n          this._trackPoints[j + 1] = this._trackPoints[j]\n          this._trackPoints[j] = tmp\n        }\n      }\n    }\n  },\n\n  // 为轨迹点建立时间索引，优化查找性能\n  _updatetimeTick: function () {\n    this._timeTick = {}\n    for (let i = 0, len = this._trackPoints.length; i < len; i++) {\n      this._timeTick[this._trackPoints[i].time] = i\n    }\n  }\n})\n\nexport const track = function (trackData, options) {\n  return new Track(trackData, options)\n}\n","export function isArray (arr) {\n  return Array.isArray ? Array.isArray(arr) : Object.prototype.toString.call(arr) === '[object Array]'\n}\n","import L from 'leaflet'\n\nimport {\n  isArray\n} from './util'\nimport {\n  Track\n} from './track'\n\n/**\n * 控制器类\n * 控制轨迹和绘制\n */\nexport const TrackController = L.Class.extend({\n\n  initialize: function (tracks = [], draw, options) {\n    L.setOptions(this, options)\n\n    this._tracks = []\n    this.addTrack(tracks)\n\n    this._draw = draw\n\n    this._updateTime()\n  },\n\n  getMinTime: function () {\n    return this._minTime\n  },\n\n  getMaxTime: function () {\n    return this._maxTime\n  },\n\n  addTrack: function (track) {\n    if (isArray(track)) {\n      for (let i = 0, len = track.length; i < len; i++) {\n        this.addTrack(track[i])\n      }\n    } else if (track instanceof Track) {\n      this._tracks.push(track)\n      this._updateTime()\n    } else {\n      throw new Error('tracks must be an instance of `Track` or an array of `Track` instance!')\n    }\n  },\n\n  drawTracksByTime: function (time) {\n    this._draw.clear()\n    for (let i = 0, len = this._tracks.length; i < len; i++) {\n      let track = this._tracks[i]\n      let tps = track.getTrackPointsBeforeTime(time)\n      if (tps && tps.length) this._draw.drawTrack(tps)\n    }\n  },\n\n  _updateTime: function () {\n    this._minTime = this._tracks[0].getStartTrackPoint().time\n    this._maxTime = this._tracks[0].getEndTrackPoint().time\n    for (let i = 0, len = this._tracks.length; i < len; i++) {\n      let stime = this._tracks[i].getStartTrackPoint().time\n      let etime = this._tracks[i].getEndTrackPoint().time\n      if (stime < this._minTime) {\n        this._minTime = stime\n      }\n      if (etime > this._maxTime) {\n        this._maxTime = etime\n      }\n    }\n  }\n\n})\n\nexport const trackController = function (tracks, draw, options) {\n  return new TrackController(tracks, draw, options)\n}\n","import L from 'leaflet'\n/**\n * 时钟类，控制轨迹播放动画\n */\nexport const Clock = L.Class.extend({\n  includes: L.Evented.prototype,\n\n  options: {\n    // 播放速度\n    // 计算方法 fpstime * Math.pow(2, this._speed - 1)\n    speed: 12,\n    // 最大播放速度\n    maxSpeed: 65\n  },\n\n  initialize: function (trackController, options) {\n    L.setOptions(this, options)\n\n    this._trackController = trackController\n    this._endTime = this._trackController.getMaxTime()\n    this._curTime = this._trackController.getMinTime()\n    this._speed = this.options.speed\n    this._maxSpeed = this.options.maxSpeed\n    this._intervalID = null\n    this._lastFpsUpdateTime = 0\n  },\n\n  start: function () {\n    if (this._intervalID) return\n    this._intervalID = L.Util.requestAnimFrame(this._tick, this)\n  },\n\n  stop: function () {\n    if (!this._intervalID) return\n    L.Util.cancelAnimFrame(this._intervalID)\n    this._intervalID = null\n    this._lastFpsUpdateTime = 0\n  },\n\n  rePlaying: function () {\n    this.stop()\n    this._curTime = this._trackController.getMinTime()\n    this.start()\n  },\n\n  slowSpeed: function () {\n    this._speed = this._speed <= 1 ? this._speed : this._speed - 1\n    if (this._intervalID) {\n      this.stop()\n      this.start()\n    }\n  },\n\n  quickSpeed: function () {\n    this._speed = this._speed >= this._maxSpeed ? this._speed : this._speed + 1\n    if (this._intervalID) {\n      this.stop()\n      this.start()\n    }\n  },\n\n  getSpeed: function () {\n    return this._speed\n  },\n\n  getCurTime: function () {\n    return this._curTime\n  },\n\n  getStartTime: function () {\n    return this._trackController.getMinTime()\n  },\n\n  getEndTime: function () {\n    return this._trackController.getMaxTime()\n  },\n\n  isPlaying: function () {\n    return !!this._intervalID\n  },\n\n  setCursor: function (time) {\n    this._curTime = time\n    this._trackController.drawTracksByTime(this._curTime)\n    this.fire('tick', {\n      time: this._curTime\n    })\n  },\n\n  setSpeed: function (speed) {\n    this._speed = speed\n    if (this._intervalID) {\n      this.stop()\n      this.start()\n    }\n  },\n\n  // 计算两帧时间间隔，单位：秒\n  _caculatefpsTime: function (now) {\n    let time\n    if (this._lastFpsUpdateTime === 0) {\n      time = 0\n    } else {\n      time = now - this._lastFpsUpdateTime\n    }\n    this._lastFpsUpdateTime = now\n    // 将毫秒转换成秒\n    time = time / 1000\n    return time\n  },\n\n  _tick: function () {\n    let now = +new Date()\n    let fpstime = this._caculatefpsTime(now)\n    let isPause = false\n    let stepTime = fpstime * Math.pow(2, this._speed - 1)\n    this._curTime += stepTime\n    if (this._curTime >= this._endTime) {\n      this._curTime = this._endTime\n      isPause = true\n      this.fire('ended')\n    }\n    this._trackController.drawTracksByTime(this._curTime)\n    this.fire('tick', {\n      time: this._curTime\n    })\n    if (!isPause) this._intervalID = L.Util.requestAnimFrame(this._tick, this)\n  }\n})\n\nexport const clock = function (trackController, options) {\n  return new Clock(trackController, options)\n}\n","import L from 'leaflet'\n\nimport { TrackLayer } from './tracklayer'\n\n/**\n * 绘制类\n * 完成轨迹线、轨迹点、目标物的绘制工作\n */\nexport const Draw = L.Class.extend({\n  trackPointOptions: {\n    isDraw: false,\n    useCanvas: true,\n    stroke: false,\n    color: '#ef0300',\n    fill: true,\n    fillColor: '#ef0300',\n    opacity: 0.3,\n    radius: 4\n  },\n  trackLineOptions: {\n    isDraw: false,\n    stroke: true,\n    color: '#1C54E2', // stroke color\n    weight: 2,\n    fill: false,\n    fillColor: '#000',\n    opacity: 0.3\n  },\n  targetOptions: {\n    useImg: false,\n    imgUrl: '../../static/images/ship.png',\n    showText: false,\n    width: 8,\n    height: 18,\n    color: '#00f', // stroke color\n    fillColor: '#9FD12D'\n  },\n  toolTipOptions: {\n    offset: [0, 0],\n    direction: 'top',\n    permanent: false\n  },\n\n  initialize: function (map, options) {\n    L.extend(this.trackPointOptions, options.trackPointOptions)\n    L.extend(this.trackLineOptions, options.trackLineOptions)\n    L.extend(this.targetOptions, options.targetOptions)\n    L.extend(this.toolTipOptions, options.toolTipOptions)\n\n    this._showTrackPoint = this.trackPointOptions.isDraw\n    this._showTrackLine = this.trackLineOptions.isDraw\n\n    this._map = map\n    this._map.on('mousemove', this._onmousemoveEvt, this)\n\n    this._trackLayer = new TrackLayer().addTo(map)\n    this._trackLayer.on('update', this._trackLayerUpdate, this)\n\n    this._canvas = this._trackLayer.getContainer()\n    this._ctx = this._canvas.getContext('2d')\n\n    this._bufferTracks = []\n\n    if (!this.trackPointOptions.useCanvas) {\n      this._trackPointFeatureGroup = L.featureGroup([]).addTo(map)\n    }\n\n    // 目标如果使用图片，先加载图片\n    if (this.targetOptions.useImg) {\n      const img = new Image()\n      img.onload = () => {\n        this._targetImg = img\n      }\n      img.onerror = () => {\n        throw new Error('img load error!')\n      }\n      img.src = this.targetOptions.imgUrl\n    }\n  },\n\n  update: function () {\n    this._trackLayerUpdate()\n  },\n\n  drawTrack: function (trackpoints) {\n    this._bufferTracks.push(trackpoints)\n    this._drawTrack(trackpoints)\n  },\n\n  showTrackPoint: function () {\n    this._showTrackPoint = true\n    this.update()\n  },\n\n  hideTrackPoint: function () {\n    this._showTrackPoint = false\n    this.update()\n  },\n\n  showTrackLine: function () {\n    this._showTrackLine = true\n    this.update()\n  },\n\n  hideTrackLine: function () {\n    this._showTrackLine = false\n    this.update()\n  },\n\n  remove: function () {\n    this._bufferTracks = []\n    this._trackLayer.off('update', this._trackLayerUpdate, this)\n    this._map.off('mousemove', this._onmousemoveEvt, this)\n    if (this._trackLayer && this._map.hasLayer(this._trackLayer)) {\n      this._map.removeLayer(this._trackLayer)\n    }\n    if (\n      this._trackPointFeatureGroup &&\n      this._map.hasLayer(this._trackPointFeatureGroup)\n    ) {\n      this._map.removeLayer(this._trackPointFeatureGroup)\n    }\n  },\n\n  clear: function () {\n    this._clearLayer()\n    this._bufferTracks = []\n  },\n\n  _trackLayerUpdate: function () {\n    if (this._bufferTracks.length) {\n      this._clearLayer()\n      this._bufferTracks.forEach(\n        function (element, index) {\n          this._drawTrack(element)\n        }.bind(this)\n      )\n    }\n  },\n\n  _onmousemoveEvt: function (e) {\n    if (!this._showTrackPoint) {\n      return\n    }\n    let point = e.layerPoint\n    if (this._bufferTracks.length) {\n      for (let i = 0, leni = this._bufferTracks.length; i < leni; i++) {\n        for (let j = 0, len = this._bufferTracks[i].length; j < len; j++) {\n          let tpoint = this._getLayerPoint(this._bufferTracks[i][j])\n          if (point.distanceTo(tpoint) <= this.trackPointOptions.radius) {\n            this._opentoolTip(this._bufferTracks[i][j])\n            return\n          }\n        }\n      }\n    }\n    if (this._map.hasLayer(this._tooltip)) {\n      this._map.removeLayer(this._tooltip)\n    }\n    this._canvas.style.cursor = 'pointer'\n  },\n\n  _opentoolTip: function (trackpoint) {\n    if (this._map.hasLayer(this._tooltip)) {\n      this._map.removeLayer(this._tooltip)\n    }\n    this._canvas.style.cursor = 'default'\n    let latlng = L.latLng(trackpoint.lat, trackpoint.lng)\n    let tooltip = (this._tooltip = L.tooltip(this.toolTipOptions))\n    tooltip.setLatLng(latlng)\n    tooltip.addTo(this._map)\n    tooltip.setContent(this._getTooltipText(trackpoint))\n  },\n\n  _drawTrack: function (trackpoints) {\n    // 画轨迹线\n    if (this._showTrackLine) {\n      this._drawTrackLine(trackpoints)\n    }\n    // 画船\n    let targetPoint = trackpoints[trackpoints.length - 1]\n    if (this.targetOptions.useImg && this._targetImg) {\n      this._drawShipImage(targetPoint)\n    } else {\n      this._drawShipCanvas(targetPoint)\n    }\n    // 画标注信息\n    if (this.targetOptions.showText) {\n      this._drawtxt(`航向：${parseInt(targetPoint.dir)}度`, targetPoint)\n    }\n    // 画经过的轨迹点\n    if (this._showTrackPoint) {\n      if (this.trackPointOptions.useCanvas) {\n        this._drawTrackPointsCanvas(trackpoints)\n      } else {\n        this._drawTrackPointsSvg(trackpoints)\n      }\n    }\n  },\n\n  _drawTrackLine: function (trackpoints) {\n    let options = this.trackLineOptions\n    let tp0 = this._getLayerPoint(trackpoints[0])\n    this._ctx.save()\n    this._ctx.beginPath()\n    // 画轨迹线\n    this._ctx.moveTo(tp0.x, tp0.y)\n    for (let i = 1, len = trackpoints.length; i < len; i++) {\n      let tpi = this._getLayerPoint(trackpoints[i])\n      this._ctx.lineTo(tpi.x, tpi.y)\n    }\n    this._ctx.globalAlpha = options.opacity\n    if (options.stroke) {\n      this._ctx.strokeStyle = options.color\n      this._ctx.lineWidth = options.weight\n      this._ctx.stroke()\n    }\n    if (options.fill) {\n      this._ctx.fillStyle = options.fillColor\n      this._ctx.fill()\n    }\n    this._ctx.restore()\n  },\n\n  _drawTrackPointsCanvas: function (trackpoints) {\n    let options = this.trackPointOptions\n    this._ctx.save()\n    for (let i = 0, len = trackpoints.length; i < len; i++) {\n      if (trackpoints[i].isOrigin) {\n        let latLng = L.latLng(trackpoints[i].lat, trackpoints[i].lng)\n        let radius = options.radius\n        let point = this._map.latLngToLayerPoint(latLng)\n        this._ctx.beginPath()\n        this._ctx.arc(point.x, point.y, radius, 0, Math.PI * 2, false)\n        this._ctx.globalAlpha = options.opacity\n        if (options.stroke) {\n          this._ctx.strokeStyle = options.color\n          this._ctx.stroke()\n        }\n        if (options.fill) {\n          this._ctx.fillStyle = options.fillColor\n          this._ctx.fill()\n        }\n      }\n    }\n    this._ctx.restore()\n  },\n\n  _drawTrackPointsSvg: function (trackpoints) {\n    for (let i = 0, len = trackpoints.length; i < len; i++) {\n      if (trackpoints[i].isOrigin) {\n        let latLng = L.latLng(trackpoints[i].lat, trackpoints[i].lng)\n        let cricleMarker = L.circleMarker(latLng, this.trackPointOptions)\n        cricleMarker.bindTooltip(\n          this._getTooltipText(trackpoints[i]),\n          this.toolTipOptions\n        )\n        this._trackPointFeatureGroup.addLayer(cricleMarker)\n      }\n    }\n  },\n\n  _drawtxt: function (text, trackpoint) {\n    let point = this._getLayerPoint(trackpoint)\n    this._ctx.save()\n    this._ctx.font = '12px Verdana'\n    this._ctx.fillStyle = '#000'\n    this._ctx.textAlign = 'center'\n    this._ctx.textBaseline = 'bottom'\n    this._ctx.fillText(text, point.x, point.y - 12, 200)\n    this._ctx.restore()\n  },\n\n  _drawShipCanvas: function (trackpoint) {\n    let point = this._getLayerPoint(trackpoint)\n    let rotate = trackpoint.dir || 0\n    let w = this.targetOptions.width\n    let h = this.targetOptions.height\n    let dh = h / 3\n\n    this._ctx.save()\n    this._ctx.fillStyle = this.targetOptions.fillColor\n    this._ctx.strokeStyle = this.targetOptions.color\n    this._ctx.translate(point.x, point.y)\n    this._ctx.rotate((Math.PI / 180) * rotate)\n    this._ctx.beginPath()\n    this._ctx.moveTo(0, 0 - h / 2)\n    this._ctx.lineTo(0 - w / 2, 0 - h / 2 + dh)\n    this._ctx.lineTo(0 - w / 2, 0 + h / 2)\n    this._ctx.lineTo(0 + w / 2, 0 + h / 2)\n    this._ctx.lineTo(0 + w / 2, 0 - h / 2 + dh)\n    this._ctx.closePath()\n    this._ctx.fill()\n    this._ctx.stroke()\n    this._ctx.restore()\n  },\n\n  _drawShipImage: function (trackpoint) {\n    let point = this._getLayerPoint(trackpoint)\n    let dir = trackpoint.dir || 0\n    let width = this.targetOptions.width\n    let height = this.targetOptions.height\n    let offset = {\n      x: width / 2,\n      y: height / 2\n    }\n    this._ctx.save()\n    this._ctx.translate(point.x, point.y)\n    if (trackpoint.dir !== 0) {\n      this._ctx.rotate((Math.PI / 180) * dir)\n    }\n    this._ctx.drawImage(\n      this._targetImg,\n      0 - offset.x,\n      0 - offset.y,\n      width,\n      height\n    )\n    this._ctx.restore()\n  },\n\n  _getTooltipText: function (targetobj) {\n    let content = []\n    content.push('<table>')\n    if (targetobj.info && targetobj.info.length) {\n      for (let i = 0, len = targetobj.info.length; i < len; i++) {\n        content.push('<tr>')\n        content.push('<td>' + targetobj.info[i].key + '</td>')\n        content.push('<td>' + targetobj.info[i].value + '</td>')\n        content.push('</tr>')\n      }\n    }\n    content.push('</table>')\n    content = content.join('')\n    return content\n  },\n\n  _clearLayer: function () {\n    let bounds = this._trackLayer.getBounds()\n    if (bounds) {\n      let size = bounds.getSize()\n      this._ctx.clearRect(bounds.min.x, bounds.min.y, size.x, size.y)\n    } else {\n      this._ctx.clearRect(0, 0, this._canvas.width, this._canvas.height)\n    }\n    if (\n      this._trackPointFeatureGroup &&\n      this._map.hasLayer(this._trackPointFeatureGroup)\n    ) {\n      this._trackPointFeatureGroup.clearLayers()\n    }\n  },\n\n  _getLayerPoint (trackpoint) {\n    return this._map.latLngToLayerPoint(\n      L.latLng(trackpoint.lat, trackpoint.lng)\n    )\n  }\n})\n\nexport const draw = function (map, options) {\n  return new Draw(map, options)\n}\n","import L from 'leaflet'\n\n/**\n * 轨迹图层\n */\nexport const TrackLayer = L.Renderer.extend({\n\n  initialize: function (options) {\n    L.Renderer.prototype.initialize.call(this, options)\n    this.options.padding = 0.1\n  },\n\n  onAdd: function (map) {\n    this._container = L.DomUtil.create('canvas', 'leaflet-zoom-animated')\n\n    var pane = map.getPane(this.options.pane)\n    pane.appendChild(this._container)\n\n    this._ctx = this._container.getContext('2d')\n\n    this._update()\n  },\n\n  onRemove: function (map) {\n    L.DomUtil.remove(this._container)\n  },\n\n  getContainer: function () {\n    return this._container\n  },\n\n  getBounds: function () {\n    return this._bounds\n  },\n\n  _update: function () {\n    if (this._map._animatingZoom && this._bounds) {\n      return\n    }\n\n    L.Renderer.prototype._update.call(this)\n\n    var b = this._bounds\n\n    var container = this._container\n\n    var size = b.getSize()\n\n    var m = L.Browser.retina ? 2 : 1\n\n    L.DomUtil.setPosition(container, b.min)\n\n    // set canvas size (also clearing it); use double size on retina\n    container.width = m * size.x\n    container.height = m * size.y\n    container.style.width = size.x + 'px'\n    container.style.height = size.y + 'px'\n\n    if (L.Browser.retina) {\n      this._ctx.scale(2, 2)\n    }\n\n    // translate so we use the same path coordinates after canvas element moves\n    this._ctx.translate(-b.min.x, -b.min.y)\n\n    // Tell paths to redraw themselves\n    this.fire('update')\n  }\n})\n"],"names":[],"version":3,"file":"leaflet.trackplayback.js.map"}